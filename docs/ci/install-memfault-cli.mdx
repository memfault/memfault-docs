---
id: install-memfault-cli
title: Memfault CLI tool
sidebar_label: Memfault CLI tool
---

import AuthTokenRequiredCallout from "@site/src/pages/_partials/_auth-token-required-callout.mdx";

The Memfault CLI tool is a simple command-line program which purpose is to make
integrations with the Memfault cloud from other systems, like continuous
integration servers, as easy as possible.

Under the hood, the tool acts as a client to [Memfault's HTTP API](/api).

The Memfault CLI tool is written in Python and published publicly in the
[Python Package Index (pypi)](https://pypi.org/project/memfault-cli/).

### Installing the Memfault CLI tool

To install it, make sure you have a recent version of Python 3.x installed.

:::tip

Use a
[virtualenv](https://packaging.python.org/tutorials/installing-packages/#creating-virtual-environments)
to avoid conflicts with dependencies of other projects that use Python.

:::

Then run `pip3 install memfault-cli` to install it.

Once installed, the `memfault` command should be available in your shell:

```bash
$ memfault --help
Usage: memfault [OPTIONS] COMMAND [ARGS]...

Options:
  --email TEXT        Account email to authenticate with
  --password TEXT     Account password or user API key to authenticate with
  --project-key TEXT  Memfault Project Key
  --org TEXT          Organization slug
  --project TEXT      Project slug
  --help              Show this message and exit.

Commands:
  post-chunk                  Sends data generated by the...
  upload-android-app-symbols  Upload symbols & R8/ProGuard mapping for an...
  upload-bugreport            Upload an Android Bug Report for analysis by...
  upload-coredump             Upload a firmware coredump for analysis.
  upload-ota-payload          Upload a binary to be used for a firmware...
  upload-symbols              Upload symbols for a Firmware or Android...
```

### Authentication

There are four different ways to authenticate using the Memfault CLI.

1. With a user email and password
1. With a user email and user API key
1. With a Memfault Project key
1. With an Organization Auth token

Not all commands will work with every authentication method. Below shows which
commands require which forms of authentication.

| Command                    | Email + Password | Email + API key | Organization Token | Project Key |
| -------------------------- | :--------------: | :-------------: | :----------------: | :---------: |
| post-chunk                 |                  |                 |                    |     ✅      |
| upload-android-app-symbols |        ✅        |       ✅        |         ✅         |             |
| upload-bugreport           |        ✅        |       ✅        |         ✅         |     ✅      |
| upload-coredump            |        ✅        |       ✅        |         ✅         |     ✅      |
| upload-ota-symbols         |        ✅        |       ✅        |         ✅         |             |
| upload-symbols             |        ✅        |       ✅        |         ✅         |             |

#### Using Email and Password or User API Key

To use email and password authentication, pass `--email` and `--password` after
the `memfault` command.

```
$ memfault --email ${YOUR_EMAIL} --password ${USER_PASSWORD} ...
```

or

```
$ memfault --email ${YOUR_EMAIL} --password ${YOUR_USER_API_KEY} ...
```

#### Using Organization Auth Token

To use an Organization auth token, pass `--org-token` with the contents of your
Organization Auth token after the `memfault` command.

```
$ memfault --org-token ${ORGANIZATION_AUTH_TOKEN} ...
```

#### Using Memfault Project Key

To use a Memfault Project key, pass `--project-key` after the `memfault`
command.

```
$ memfault --project-key ${YOUR_PROJECT_KEY} ...
```

### Example Usage: Uploading Firmware Symbols

<AuthTokenRequiredCallout />

```bash
$ memfault
  --org-token ${ORGANIZATION_AUTH_TOKEN} \
  --org acme-inc \
  --project smart-sink \
   upload-symbols \
   --software-type stm32-fw \
   --software-version 1.0.0-alpha \
   build/symbols.elf
```

:::note Tip

If you are going to be working with the same project you can add standard
arguments as environment variables to your shell init file or via the command
line:

```bash
$ export MEMFAULT_EMAIL=${YOUR_EMAIL}
$ export MEMFAULT_PASSWORD=${YOUR_USER_API_KEY}
$ export MEMFAULT_ORG=acme-inc
$ export MEMFAULT_PROJECT=smart-sink
```

With these changes, the invocation reduces to:

```bash
$ memfault upload-symbols \
  --hardware-version mp \
  --software-type stm32-fw \
  --software-version 1.0.0-alpha \
  build/stm32-fw.bin

INFO: build/stm32-fw.bin: uploaded!
INFO: You can view in the UI here:
    <Link to Symbols in UI>
```

:::
